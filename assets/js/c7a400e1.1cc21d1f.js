(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return m})),n.d(t,"toc",(function(){return h})),n.d(t,"default",(function(){return v}));var o=n(3),a=n(7),r=(n(0),n(112)),i=n(143),c=n(116),s=n(139),l=n(113),d=n(114),u=n(115),p={title:"Setting your workspace",slug:"/setup"},m={unversionedId:"01-02-setting-up-workspace",id:"01-02-setting-up-workspace",isDocsHomePage:!1,title:"Setting your workspace",description:"This guide explains how to set up your environment using the ragu-cli tool.",source:"@site/docs/01-02-setting-up-workspace.mdx",slug:"/setup",permalink:"/docs/setup",editUrl:"https://github.com/ragu-framework/docs/edit/main/docs/01-02-setting-up-workspace.mdx",version:"current",sidebar:"docs",previous:{title:"What is Ragu?",permalink:"/docs/"},next:{title:"Micro-frontends",permalink:"/docs/micro-frontends"}},h=[{value:"Start a Node project",id:"start-a-node-project",children:[]},{value:"Install the ragu-cli",id:"install-the-ragu-cli",children:[{value:"Webpack",id:"webpack",children:[]}]},{value:"Adapters",id:"adapters",children:[]},{value:"Creating a simple component",id:"creating-a-simple-component",children:[]},{value:"Run the application",id:"run-the-application",children:[]},{value:"Previewing your micro-frontend",id:"previewing-your-micro-frontend",children:[]},{value:"Check all available commands and options",id:"check-all-available-commands-and-options",children:[]}],b={toc:h};function v(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"This guide explains how to set up your environment using the ",Object(r.b)("inlineCode",{parentName:"p"},"ragu-cli")," tool.\nIt includes installing the CLI, creating an initial workspace and simple micro-frontend.\nAlso, this guide explains how to run the micro-frontend locally."),Object(r.b)("h2",{id:"start-a-node-project"},"Start a Node project"),Object(r.b)(l.a,{defaultValue:"yes",values:[{label:"I already have a node project",value:"yes"},{label:"Tell me how to start one",value:"no"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"yes",mdxType:"TabItem"}),Object(r.b)(d.a,{value:"no",mdxType:"TabItem"},Object(r.b)("p",null,"If you don't have a project yet ",Object(r.b)("code",null,"1")," open your terminal and follow the steps bellow:"),Object(r.b)("p",null,Object(r.b)("code",null,"2")," Create a directory."),Object(r.b)(u.a,{className:"language-shell",mdxType:"CodeBlock"},"mkdir my-mfe"),Object(r.b)("p",null,Object(r.b)("code",null,"3")," Open the directory you have created."),Object(r.b)(u.a,{className:"language-shell",mdxType:"CodeBlock"},"cd my-mfe"),Object(r.b)("p",null,Object(r.b)("code",null,"4")," Create a node project"),Object(r.b)(c.a,{npm:"init",yarn:"init",mdxType:"PackageManager"}))),Object(r.b)("h2",{id:"install-the-ragu-cli"},"Install the ragu-cli"),Object(r.b)("p",null,"You use the ragu-cli to build micro-frontends, develop and preview your micro-frontend."),Object(r.b)("p",null,"To install the ",Object(r.b)("inlineCode",{parentName:"p"},"ragu-cli"),", execute the following command at the terminal:"),Object(r.b)(i.a,{isDev:!0,packageName:"ragu-cli",mdxType:"InstallPackage"}),Object(r.b)("h3",{id:"webpack"},"Webpack"),Object(r.b)("p",null,"Ragu abstracts part of webpack configuration. It means that you should not worry about having a webpack config file if\nyou don't use any special loader. However, webpack must be installed manually to make sure Ragu is using the same\nwebpack version of your project. You can skip this step if you already have webpack installed."),Object(r.b)(i.a,{isDev:!0,packageName:"webpack",mdxType:"InstallPackage"}),Object(r.b)("h2",{id:"adapters"},"Adapters"),Object(r.b)("p",null,"Ragu is technology-agnostic. That means it can be used with any javascript framework. However,\n",Object(r.b)("inlineCode",{parentName:"p"},"ragu-cli")," needs to know how to build your project. The adapters are how you can tell Ragu how to build the\nmicro-frontend. For this example we will use the adapter for vanilla (a.k.a pure javascript) micro-frontends."),Object(r.b)(i.a,{isDev:!0,packageName:"ragu-simple-adapter",mdxType:"InstallPackage"}),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"All the examples bellow are about exporting a javascript pure micro-frontend.\nThere is even a smooth way to work with your favorite framework. Check React's and Vue's documentation for more info."))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Does not install the simple adapter if you will use a framework. Install the framework adapter instead."))),Object(r.b)("h2",{id:"creating-a-simple-component"},"Creating a simple component"),Object(r.b)("p",null,"Open your favorite text editor and create a javascript file for out micro-frontend:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-javascript",metastring:'title="my-mfe.js"',title:'"my-mfe.js"'},"export default () => {\n  return {\n    html: 'Hello, World'\n  }\n}\n")),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"A Ragu micro-frontend is always a file that exports a ",Object(r.b)("inlineCode",{parentName:"p"},"default")," function."))),Object(r.b)("h2",{id:"run-the-application"},"Run the application"),Object(r.b)("p",null,"The Ragu includes a server, so that you can build and serve your app locally."),Object(r.b)("p",null,"Run the following command to start the development server:"),Object(r.b)(c.a,{both:"ragu-cli dev --file my-mfe.js",binExecution:!0,mdxType:"PackageManager"}),Object(r.b)("p",null,"The output should be like this:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"\ud83d\udce6 your build is ready!\n\nOutput path: .ragu-components\nBase URL: http://localhost:3100\n\n\ud83d\uddfa Component Routes:\n\u25b8 mfe: http://localhost:3100/\n\n\n\ud83d\udd2d Preview Routes:\n\u25b8 mfe: http://localhost:3100/preview\n\n\nWelcome to \ud83d\udd2a Ragu\n")),Object(r.b)("p",null,"Now you can use your micro-frontend wherever you want even here!"),Object(r.b)(s.a,{name:"Your local micro-frontend",url:"http://localhost:3100",hideDemo:!0,mdxType:"LoadMicroFrontend"}),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Try to change the micro-frontend! You will see that changes will be reflected here!"))),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Code Example")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"The code of the examples above can be found ",Object(r.b)("a",{parentName:"p",href:"https://github.com/ragu-framework/docs/tree/main/examples/example-01-02"},"here"),"."))),Object(r.b)("h2",{id:"previewing-your-micro-frontend"},"Previewing your micro-frontend"),Object(r.b)("p",null,"To preview your micro-frontend you just need to open the preview route that is printed at the terminal when you start\nthe development server. Preview has hot-reload - changes are automatically updated."),Object(r.b)("p",null,"The default micro-frontend route is ",Object(r.b)("a",{parentName:"p",href:"http://localhost:3100/preview"},"http://localhost:3100/preview")),Object(r.b)("h2",{id:"check-all-available-commands-and-options"},"Check all available commands and options"),Object(r.b)("p",null,"If you are having troubles to remember any ",Object(r.b)("inlineCode",{parentName:"p"},"ragu-cli")," commands or options you can use the ",Object(r.b)("inlineCode",{parentName:"p"},"--help")," flag."),Object(r.b)(c.a,{binExecution:!0,both:"ragu-cli --help",mdxType:"PackageManager"}),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"Usage: ragu-cli [options] [command]\n\nWelcome to ragu-cli. Check the list of commands bellow:\n\nOptions:\n  -V, --version     output the version number\n  -h, --help        display help for command\n\nCommands:\n  dev [options]     Starts ragu server in development mode for the given component.\n  static [options]  Build the project as a static ragu project\n  build [options]   Build the project to production\n  serve [options]   Production server. You must the same options given for build command.\n  help [command]    display help for command\n")),Object(r.b)("p",null,"You can combine a ",Object(r.b)("inlineCode",{parentName:"p"},"command")," with the ",Object(r.b)("inlineCode",{parentName:"p"},"--help")," flag to list all available options for that command. Example:"),Object(r.b)(c.a,{binExecution:!0,both:"ragu-cli dev --help",mdxType:"PackageManager"}),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"Usage: ragu-cli dev [options]\n\nStarts ragu server in development mode for the given component.\n\nOptions:\n  --ssrEnabled                             Enables SSR\n  --file <file>                            Your component file\n  --stateFile <stateFile>                  Your component file\n  --dependencies <dependencies>            Project external dependencies\n  --directory <directory>                  The directory for multiple components server\n  --log <log>                              The application log level: debug, info, warn, error\n  --adapter <adapter>                      The adapter for your component: react, vue, custom\n  --baseurl <baseurl>                      Your component baseurl where you component will be deployed\n  --configFile <configFile>                A custom config file\n  --port <port>                            The server port\n  --outputPath <outputPath>                Where your component will be built. Default: .ragu-components\n  --webpack <webpack>                      A custom webpack config\n  --webpackServerSide <webpackServerSide>  A custom webpack config for SSR. Default: It will assume the same value provided for --webpack\n  -h, --help                               display help for command\n")))}v.isMDXComponent=!0},113:function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(117),i=n(108),c=n(56),s=n.n(c);var l=37,d=39;t.a=function(e){var t=e.lazy,n=e.block,c=e.defaultValue,u=e.values,p=e.groupId,m=e.className,h=Object(r.a)(),b=h.tabGroupChoices,v=h.setTabGroupChoices,f=Object(o.useState)(c),g=f[0],y=f[1],w=o.Children.toArray(e.children),j=[];if(null!=p){var O=b[p];null!=O&&O!==g&&u.some((function(e){return e.value===O}))&&y(O)}var C=function(e){var t=e.target,n=j.indexOf(t),o=w[n].props.value;y(o),null!=p&&(v(p,o),setTimeout((function(){var e,n,o,a,r,i,c,l;(e=t.getBoundingClientRect(),n=e.top,o=e.left,a=e.bottom,r=e.right,i=window,c=i.innerHeight,l=i.innerWidth,n>=0&&r<=l&&a<=c&&o>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s.a.tabItemActive),setTimeout((function(){return t.classList.remove(s.a.tabItemActive)}),2e3))}),150))},N=function(e){var t,n;switch(e.keyCode){case d:var o=j.indexOf(e.target)+1;n=j[o]||j[0];break;case l:var a=j.indexOf(e.target)-1;n=j[a]||j[j.length-1]}null===(t=n)||void 0===t||t.focus()};return a.a.createElement("div",{className:"tabs-container"},a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":n},m)},u.map((function(e){var t=e.value,n=e.label;return a.a.createElement("li",{role:"tab",tabIndex:g===t?0:-1,"aria-selected":g===t,className:Object(i.a)("tabs__item",s.a.tabItem,{"tabs__item--active":g===t}),key:t,ref:function(e){return j.push(e)},onKeyDown:N,onFocus:C,onClick:C},n)}))),t?Object(o.cloneElement)(w.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):a.a.createElement("div",{className:"margin-vert--md"},w.map((function(e,t){return Object(o.cloneElement)(e,{key:t,hidden:e.props.value!==g})}))))}},114:function(e,t,n){"use strict";var o=n(0),a=n.n(o);t.a=function(e){var t=e.children,n=e.hidden,o=e.className;return a.a.createElement("div",{role:"tabpanel",hidden:n,className:o},t)}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),a=n.n(o),r=n(115),i=n(113),c=n(114),s=function(e){var t=e.yarn,n=e.npm,o=e.both,s=e.binExecution,l=t||o,d=n||o;return a.a.createElement(i.a,{defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"NPM",value:"npm"}]},a.a.createElement(c.a,{value:"yarn"},a.a.createElement(r.a,{className:"language-shell"},"yarn "+l)),a.a.createElement(c.a,{value:"npm"},a.a.createElement(r.a,{className:"language-shell"},(s?"npx":"npm")+" "+d)))}},121:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function c(e){try{s(o.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RaguComponent=t.defaultComponentLoader=void 0;const a=n(122),r=n(123),i=n(124),c=n(125),s=n(135);t.defaultComponentLoader=new a.ComponentLoader({dependencyContext:new r.DependencyContext(new i.ScriptLoader),jsonpGateway:new c.JsonpGateway(document),fetchGateway:new s.FetchGateway});t.RaguComponent=class{constructor(e,n=t.defaultComponentLoader){this.element=e,this.componentLoader=n}fetchComponent(e){return o(this,void 0,void 0,(function*(){const t=this.element.querySelector("script[data-ragu-ssr]");t?yield this.fetchComponentFromSSRScript(t):yield this.fetchComponentFromServer(e)}))}fetchComponentFromServer(e){this.disconnectComponent(),this.componentLoader.load(e).then((e=>{this.component=e,this.element.dispatchEvent(new CustomEvent("ragu:fetched",{detail:this.component})),this.element.innerHTML=this.component.html||"",this.render()})).catch((e=>{this.element.dispatchEvent(new CustomEvent("ragu:fetch-fail",{detail:e}))}))}disconnectComponent(){var e,t;this.component&&(null===(t=(e=this.component).disconnect)||void 0===t||t.call(e,this.element))}fetchComponentFromSSRScript(e){return o(this,void 0,void 0,(function*(){const t=JSON.parse(e.textContent||"{}");e.remove(),this.component=yield this.componentLoader.hydrationFactory(t),yield this.render()}))}render(){var e;null===(e=this.component)||void 0===e||e.render(this.element).then((()=>{this.element.dispatchEvent(new CustomEvent("ragu:hydrated",{detail:this.component}))}))}}},122:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function c(e){try{s(o.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentLoader=void 0;const a=n(134);t.ComponentLoader=class{constructor(e){this.context=e}load(e){return o(this,void 0,void 0,(function*(){const t=yield this.componentResponseFor(e);return yield this.hydrationFactory(t)}))}componentResponseFor(e){return o(this,void 0,void 0,(function*(){const t=a.parseURL(e);if("json"===t.extension){const n=yield this.context.fetchGateway.fetch(e);return Object.assign(Object.assign({},n),{props:t.props})}return yield this.context.jsonpGateway.fetchJsonp(e)}))}hydrationFactory(e){return o(this,void 0,void 0,(function*(){e.styles&&e.styles.length&&(yield this.context.dependencyContext.loadStyles(e.styles));const t=this.context;return Object.assign(Object.assign({},e),{disconnect(e){var t;return o(this,void 0,void 0,(function*(){const n=this.component;yield this.hydratePromise,null===(t=null==n?void 0:n.disconnect)||void 0===t||t.call(n,e)}))},runtimeComponent(e){return o(this,void 0,void 0,(function*(){const t=e.default||e;return t.resolve?yield e.resolve():t}))},getRenderFunction(){var e,t;return void 0===this.html?null===(e=this.component)||void 0===e?void 0:e.render:null===(t=this.component)||void 0===t?void 0:t.hydrate},render(n){return o(this,void 0,void 0,(function*(){const o=e.dependencies||[];yield t.dependencyContext.loadAll(o),yield t.dependencyContext.load({dependency:e.client});const a=window[e.resolverFunction];this.component=yield this.runtimeComponent(a);const r=this.getRenderFunction();this.hydratePromise=null==r?void 0:r(n,this.props,this.state),yield this.hydratePromise}))}})}))}}},123:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function c(e){try{s(o.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyContext=void 0;class a{constructor(e,t,n){this.scriptLoader=e,this.dependency=t,this.globalVariable=n,this.globalVariable&&void 0!==window[this.globalVariable]?this.resolvePromise=Promise.resolve():this.resolvePromise=this.scriptLoader.load(this.dependency)}resolve(){return this.resolvePromise}resolves(e){return e.globalVariable&&e.globalVariable===this.globalVariable||e.dependency===this.dependency}}t.DependencyContext=class{constructor(e){this.scriptLoader=e,this.dependencies=[]}load(e){return this.getOrCreateDependency(e).resolve()}loadAll(e){return o(this,void 0,void 0,(function*(){for(let t of this.groupDependencies(e))yield this.loadDependencyGroup(t)}))}loadStyles(e){return o(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>this.loadStyle(e))))}))}loadStyle(e){const t=document.createElement("link");return t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),new Promise((n=>{document.head.querySelector(`link[href="${e}"]`)?n():(t.onload=()=>n(),t.onerror=()=>n(),document.head.appendChild(t))}))}loadDependencyGroup(e){return Promise.all(e.map((e=>this.load(e))))}groupDependencies(e){const t={};for(let a of e){const e=a.order||0;t[e]=t[e]||[],t[e].push(a)}const n=Object.keys(t).sort(),o=[];for(let a of n)o.push(t[parseInt(a)]);return Object.values(t)}getOrCreateDependency(e){const t=this.dependencies.find((t=>t.resolves(e)));if(t)return t;const n=new a(this.scriptLoader,e.dependency,e.globalVariable);return this.dependencies.push(n),n}}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptLoader=void 0;t.ScriptLoader=class{load(e){const t=document.createElement("script");t.src=e;const n=new Promise(((e,n)=>{t.onload=()=>e(),t.onerror=n}));return document.head.appendChild(t),n}}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonpGateway=void 0;class o{constructor(e,t){this.document=e,this.url=t,this.id=`${Date.now()}_${Math.ceil(1e7*Math.random())}`,this.script=this.createScript()}createScript(){const e=this.document.createElement("script");return e.src=this.getScriptSRC(),e.id=this.getScriptID(),e}fetch(){const e=new Promise(((e,t)=>{window[this.getCallbackFunctionName()]=t=>{this.cleanup(),e(t)},this.script.onerror=e=>{this.cleanup(),t(e)}}));return this.document.head.appendChild(this.script),e}cleanup(){delete window[this.getCallbackFunctionName()],this.script.remove()}getScriptSRC(){const e=new URL(this.url);return e.searchParams.append("callback",this.getCallbackFunctionName()),e.toString()}getCallbackFunctionName(){return`${o.callbackFunctionPrefix}${this.id}`}getScriptID(){return`${o.scriptIdPrefix}${this.id}`}}o.scriptIdPrefix="ragu_jsonp_script_",o.callbackFunctionPrefix="raguJSONP_";t.JsonpGateway=class{constructor(e){this.document=e}fetchJsonp(e){return new o(this.document,e).fetch()}}},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(115),a=n(113),r=n(114),i=n(0),c=n.n(i),s=function(e){var t=e.url;return c.a.createElement("div",null,c.a.createElement(a.a,{defaultValue:"react",values:[{label:"React",value:"react"},{label:"VueJs",value:"vue"},{label:"Vanilla",value:"vanilla"}]},c.a.createElement(r.a,{value:"react"},c.a.createElement(o.a,{className:"language-jsx"},function(e){return'import {RaguComponent} from "ragu-client-react";\n\n<RaguComponent src="'+e+'" />'}(t))),c.a.createElement(r.a,{value:"vue"},c.a.createElement(o.a,{className:"language-html"},function(e){return'<template>\n    <RaguComponent src="'+e+"\" />\n</template>\n\n<script>\nimport RaguComponent from 'ragu-client-vue';\n\nexport default {\n  name: 'App',\n  components: {\n    RaguComponent\n  }\n}\n<\/script>"}(t))),c.a.createElement(r.a,{value:"vanilla"},c.a.createElement(o.a,{className:"language-html"},function(e){return'<html>\n<head>\n  <script src="https://cdn.jsdelivr.net/npm/ragu-dom@latest/install.js" crossorigin="anonymous"><\/script>\n</head>\n<body>\n  <ragu-component src="'+e+'"></ragu-component>\n</body>\n</html>'}(t)))))}},132:function(e,t,n){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0,t.RaguComponent=void 0;var r=n(0),i=n(133),c=function(e){function t(t){var n=e.call(this,t)||this;return n.ref=r.createRef(),n}return a(t,e),t.prototype.render=function(){return r.createElement(this.props.wrapper||"div",{ref:this.ref})},t.prototype.componentDidMount=function(){this.registerRaguDom()},t.prototype.shouldComponentUpdate=function(e,t,n){return this.props.src!==e.src&&(this.raguDOMComponent.disconnectComponent(),!0)},t.prototype.registerRaguDom=function(){var e=this;this.props.prefetchResponse&&(this.ref.current.innerHTML=this.props.prefetchResponse),this.ref.current.addEventListener("ragu:fetched",(function(){e.props.onFetchCompleted&&e.props.onFetchCompleted()})),this.ref.current.addEventListener("ragu:fetch-fail",(function(){e.props.onFetchFail&&e.props.onFetchFail()})),this.ref.current.addEventListener("ragu:hydrated",(function(){e.props.onHydrateCompleted&&e.props.onHydrateCompleted()})),this.raguDOMComponent=new i.RaguComponent(this.ref.current,this.props.loader),this.raguDOMComponent.fetchComponent(this.props.src)},t.prototype.componentDidUpdate=function(){this.registerRaguDom()},t.prototype.componentWillUnmount=function(){this.raguDOMComponent.disconnectComponent()},t}(r.Component);t.RaguComponent=c},133:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(121),t),a(n(136),t),a(n(122),t),a(n(123),t),a(n(125),t),a(n(124),t)},134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseURL=void 0,t.parseURL=e=>{const t=new URL(e);return{url:e,extension:o(t),props:a(t)}};const o=e=>{var t;const n=e.pathname.split(".");if(1!==n.length)return null===(t=null==n?void 0:n.pop())||void 0===t?void 0:t.trim()},a=e=>{const t={};return e.searchParams.forEach(((e,n)=>{t[n]=e})),t}},135:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function c(e){try{s(o.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchGateway=void 0;t.FetchGateway=class{fetch(e){return o(this,void 0,void 0,(function*(){const t=yield fetch(e);if(!t.ok)throw new Error(`Error on Fetch: ${yield t.text()}`);return yield t.json()}))}}},136:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(t){r(t)}}function c(e){try{s(o.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.registerRaguComponent=void 0;const a=n(121);t.registerRaguComponent=e=>{class t extends HTMLElement{constructor(){super(),this.firstFetchPerformed=!1,this.component=new a.RaguComponent(this,e)}static get observedAttributes(){return["src"]}attributeChangedCallback(){return o(this,void 0,void 0,(function*(){this.firstFetchPerformed&&(yield this.setRaguComponent())}))}connectedCallback(){return o(this,void 0,void 0,(function*(){yield this.waitToFullParse(),this.firstFetchPerformed=!0,yield this.setRaguComponent()}))}setRaguComponent(){return o(this,void 0,void 0,(function*(){const e=this.getAttribute("src");e&&(yield this.component.fetchComponent(e))}))}waitToFullParse(){return o(this,void 0,void 0,(function*(){yield new Promise((e=>{setTimeout((()=>e()))}))}))}disconnectedCallback(){this.component.disconnectComponent()}}window.customElements.define("ragu-component",t)}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),a=n.n(o),r=n(128),i=n(8);var c=function(e){var t=e.children,n=e.fallback;return i.a.canUseDOM&&null!=t?a.a.createElement(a.a.Fragment,null,t()):n||null},s=function(e){var t=e.name,i=e.url,s=e.hideDemo,l=Object(o.useState)(!1),d=l[0],u=l[1],p=Object(o.useState)(!1),m=p[0],h=p[1],b=Object(o.useState)(!1),v=b[0],f=b[1];return a.a.createElement("div",{className:"microfrontend"},a.a.createElement("h4",null,t),!s&&a.a.createElement(r.a,{url:i}),!(d&&m)&&a.a.createElement("div",{className:"microfrontend-placeholder"},a.a.createElement("button",{className:"microfrontend-placeholder-button "+(v?"failed":""),onClick:function(){h(!1),f(!1),u(!0)}},v?'Fail to load "'+i+'" is the micro-frontend server running? Click to try again!':d?"Loading...":"Click to load "+t+" Micro-frontend here.")),d&&a.a.createElement("div",{className:m?"microfrontend-wrapper":""},m&&a.a.createElement("img",{src:"data:image/png;base64,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",className:"microfrontend-close",onClick:function(){h(!1),u(!1)}}),a.a.createElement(c,null,(function(){var e=n(132).RaguComponent;return a.a.createElement(e,{src:i,onFetchCompleted:function(){return h(!0)},onFetchFail:function(){u(!1),f(!0)}})}))))}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0),a=n.n(o),r=n(116),i=function(e){var t=e.packageName,n=e.isDev;return a.a.createElement(r.a,{yarn:"add "+t+" "+(n?"--dev":""),npm:"install "+t+" "+(n?"--dev":"")})}}}]);